{% extends "admin/base_site.html" %}

{% block title %}Onboard User - {{ submission.firstname }} {{ submission.lastname }}{% endblock %}

{% block content %}
<style>
  #content-main {
    background-color: #fff;
  }
</style>
<div id="content-main">
  
  <div style="background-color: #000; padding: 20px; border-radius: 8px; margin-bottom: 25px; border-left: 5px solid #417690;">
    <h2 style="margin-top: 0; color: #417690;">Confirm User Registration</h2>
    <p style="margin-bottom: 15px;">You are about to create a user account for:</p>
    
    <table style="width: 100%; margin-top: 15px; border-collapse: collapse;">
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="font-weight: bold; width: 150px; padding: 10px 0;">Name:</td>
        <td style="padding: 10px 0;">{{ submission.firstname }} {{ submission.lastname }}</td>
      </tr>
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="font-weight: bold; width: 150px; padding: 10px 0;">Email:</td>
        <td style="padding: 10px 0;">{{ submission.email }}</td>
      </tr>
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="font-weight: bold; width: 150px; padding: 10px 0;">Company:</td>
        <td style="padding: 10px 0;">{{ submission.company_name }}</td>
      </tr>
      <tr style="border-bottom: 1px solid #ddd;">
        <td style="font-weight: bold; width: 150px; padding: 10px 0;">Job Title:</td>
        <td style="padding: 10px 0;">{{ submission.job_title }}</td>
      </tr>
      <tr>
        <td style="font-weight: bold; width: 150px; padding: 10px 0;">Request Type:</td>
        <td style="padding: 10px 0;">{{ submission.get_request_type_display }}</td>
      </tr>
    </table>
  </div>

  <div style="background-color: #000; padding: 20px; border-radius: 8px; margin-bottom: 25px; border-left: 5px solid #417690;">
    <h3 style="margin-top: 0; color: #417690;">What will happen:</h3>
    <ul style="margin-bottom: 0;">
      <li>A new user account will be created with username derived from email</li>
      <li>An onboarding email will be sent to <strong>{{ submission.email }}</strong></li>
      <li>Email contains a secure link to set their password</li>
      <li>User can then login to BIMFlow Suite</li>
    </ul>
  </div>

  <form method="post">
    {% csrf_token %}
    
    <div class="submit-row">
      <a href="{{ cancel_url }}" class="button">Cancel</a>
      <button type="submit" class="button default" name="_save">Proceed with Onboarding</button>
    </div>
  </form>
</div>
{% endblock %}
